<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Greater Fool Trading Game ‚Äî Gaia Project</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Supabase MUST load first -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <link rel="stylesheet" href="style.css">
</head>
<body>

<button
  id="backToGeneanBtn"
  onclick="window.location.href='../../dashboard.html'"
>
  ‚Üê Back to Genean
</button>

<!-- INTRO -->
<div id="intro-screen" class="intro-box">
  <h2 class="intro-gaia-title">GAIA PROJECT</h2>
  <h1 class="intro-main-title">Greater Fool Trading Game</h1>

  <p class="intro-text">
    End the round with the highest wealth.<br><br>
    Genean stats alter market behaviour.<br>
    When the timer hits zero ‚Äî <strong>THE MARKET RUGS</strong>.
  </p>

  <div class="seed-box">
    <label>Game Seed (optional)</label>
    <input id="seed-input" type="number" placeholder="Leave blank for random">
    <p class="seed-hint">Same seed = same market.</p>
  </div>

  <div class="leaderboard-box">
    <h3>üåç Global Leaderboard</h3>
    <ul id="leaderboard-list"></ul>
  </div>

  <button id="start-game-btn" class="start-btn">Start Game</button>
</div>

<!-- GAME -->
<div class="container" style="display:none;">

  <div class="genean-panel">
    <strong>Your Genean</strong>
    <div id="geneanName">‚Äî</div>
    <div class="genean-stats">
      WIS <span id="statWIS"></span> ‚Ä¢
      LUCK <span id="statLUCK"></span> ‚Ä¢
      CRT <span id="statCRT"></span>
    </div>
    <div class="genean-hint">
      Traits actively modify the simulation
    </div>
  </div>

  <div class="chart-container">
    <canvas id="priceChart" width="400" height="120"></canvas>
    <div id="chart-y-axis"></div>
    <div id="chart-x-axis">Time ‚Üí</div>
  </div>

  <div class="info-grid">
    <div class="info-item"><label>Price</label><span id="price">$1.00</span></div>
    <div class="info-item"><label>Cash</label><span id="cash">$100.00</span></div>
    <div class="info-item"><label>Shares</label><span id="shares">0</span></div>
    <div class="info-item"><label>Wealth</label><span id="wealth">$100.00</span></div>
    <div class="info-item"><label>Time</label><span id="timer">120</span>s</div>
  </div>

  <div id="buttons">
    <button id="buy-btn">Buy (<span id="buyAmountBtn">1</span>)</button>
    <button id="sell-btn">Sell (<span id="sellAmountBtn">1</span>)</button>
  </div>

  <div id="leverage-panel" style="display:none;">
    <button id="long-btn">Long x<span id="levVal1"></span></button>
    <button id="short-btn">Short x<span id="levVal2"></span></button>
    <button id="close-pos-btn" disabled>Close</button>
  </div>

  <div id="log"></div>

</div>

<script src="main.js"></script>
</body>
</html>
