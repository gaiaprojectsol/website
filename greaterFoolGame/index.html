<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Greater Fool Trading Game â€” Gaia Project</title>

    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" href="style.css">

    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
</head>

<body>

    <!-- INTRO SCREEN -->
    <div id="intro-screen" class="intro-box">
        <h2>Welcome to the Greater Fool Trading Game</h2>

        <p class="intro-text">
            Try to end the round with the most money.<br><br>
            Prices move based on chaos, whales, mega whales, and a random bot.<br>
            When the timer hits zero â†’ the DEV RUGS THE MARKET (price = 0).
        </p>

        <h3>Basic Rules</h3>
        <ul class="intro-list">
            <li>ðŸ’° Start with $100</li>
            <li>ðŸ“ˆ Buy & sell shares</li>
            <li>ðŸ’¥ Mega whales can pump price 500â€“2000</li>
            <li>âš™ Genean stats affect gameplay</li>
            <li>ðŸŽ¨ Creativity unlocks leverage trading</li>
        </ul>

        <button id="start-game-btn" class="start-btn">Start</button>
    </div>

    <!-- CHARACTER SELECT -->
    <div id="character-select" class="char-box" style="display:none;">
        <h2>Select Your Genean</h2>

        <div class="character-option">
            <img src="sage.png" class="char-img" />
            <button class="char-btn" data-char="sage">Sage of Hollowpeak (WIS)</button>
        </div>

        <div class="character-option">
            <img src="lark.png" class="char-img" />
            <button class="char-btn" data-char="lark">Fortune-Blessed Lark (LUCK)</button>
        </div>

        <div class="character-option">
            <img src="maker.png" class="char-img" />
            <button class="char-btn" data-char="maker">The Maker of Echoes (CREATIVITY)</button>
        </div>
    </div>

    <!-- GAME -->
    <div class="container" style="display:none;">

        <h2 class="gaia-title">Gaia Project Presents</h2>
        <h1 class="game-title">ðŸ“‰ Greater Fool Trading Game</h1>

        <!-- CHART -->
        <div class="chart-container">
            <canvas id="priceChart" width="400" height="120"></canvas>
            <div id="chart-y-axis"></div>
            <div id="chart-x-axis"></div>
        </div>

        <!-- COMPACT GRID -->
        <div id="game-info" class="info-grid">

            <div class="info-item">
                <label>Price</label>
                <span class="big-price" id="price">$1.00</span>
            </div>

            <div class="info-item">
                <label>Cash</label>
                <span id="cash">$100.00</span>
            </div>

            <div class="info-item">
                <label>Shares</label>
                <span id="shares">0</span>
            </div>

            <div class="info-item">
                <label>Wealth</label>
                <span id="wealth">$100.00</span>
            </div>

            <div class="info-item">
                <label>Time</label>
                <span id="timer">180</span>s
            </div>

            <div class="info-item">
                <label>Character</label>
                <span id="charName"></span>
            </div>

            <div class="info-item">
                <label>Stats</label>
                <span>
                    WIS <span id="statWIS"></span> â€¢
                    LUCK <span id="statLUCK"></span> â€¢
                    CRT <span id="statCRT"></span>
                </span>
            </div>

        </div>

        <!-- BUTTONS -->
        <div id="buttons">
            <button id="buy-btn">Buy (<span id="buyAmountBtn">0</span>)</button>
            <button id="sell-btn">Sell (<span id="sellAmountBtn">0</span>)</button>
        </div>

        <!-- LEVERAGE -->
        <div id="leverage-panel" style="display:none; margin-top:12px;">
            <button id="long-btn">Long (x<span id="levVal1"></span>)</button>
            <button id="short-btn">Short (x<span id="levVal2"></span>)</button>
            <button id="close-pos-btn" disabled style="opacity:0.3;">Close</button>
        </div>

        <!-- LOG -->
        <div id="log"></div>

        <!-- FOLLOW BUTTON -->
        <button id="share-btn" class="share-button">Follow Us on X</button>
        <p class="follow-note">Watch us build this game live on X.</p>

    </div>

    <!-- END GAME POPUP -->
    <div id="share-popup" class="popup" style="display:none;">
        <div class="popup-content">
            <h3>End of Game Stats</h3>

            <p>Final Wealth: <span id="popup-wealth">$0.00</span></p>
            <p>Return: <span id="popup-return">0%</span></p>

            <p>Highest Price: <span id="popup-high">$0</span></p>
            <p>Lowest Price: <span id="popup-low">$0</span></p>

            <p>Whale Entries: <span id="popup-whales-in">0</span></p>
            <p>Whale Exits: <span id="popup-whales-out">0</span></p>
            <p>Mega Whales: <span id="popup-megawhales">0</span></p>

            <p>Biggest Up Move: <span id="popup-bigup">0</span></p>
            <p>Biggest Down Move: <span id="popup-bigdown">0</span></p>

            <button id="popup-share" class="popup-btn">Follow us on X</button>
            <button id="popup-close" class="popup-btn cancel">Close</button>
        </div>
    </div>

    <script src="main.js"></script>

</body>
</html>
