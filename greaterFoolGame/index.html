<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="icon" type="image/png" href="favicon.png">

    <title>Greater Fool Trading Game â€” Gaia Project</title>
    <link rel="stylesheet" href="style.css" />

    <!-- Screenshot library -->
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
</head>

<body>

    <!-- INTRO SCREEN -->
    <div id="intro-screen" class="intro-box">
        <h2>Welcome to the Greater Fool Trading Game</h2>

        <p class="intro-text">
            Try to end the round with the most money.<br><br>
            Prices pump and dump every second.<br>
            When the timer hits zero â†’ the DEV RUGS the market (price = 0).
        </p>

        <h3>Basic Rules</h3>
        <ul class="intro-list">
            <li>ðŸ’° Start with $100</li>
            <li>ðŸ“ˆ Buy & sell shares</li>
            <li>ðŸ’€ Shares become worthless at the end</li>
            <li>âš™ Genean stats affect gameplay</li>
            <li>ðŸŽ¨ Creativity unlocks leverage</li>
        </ul>

        <button id="start-game-btn" class="start-btn">Start</button>
    </div>

    <!-- CHARACTER SELECT -->
    <div id="character-select" class="char-box" style="display:none;">
        <h2>Select Your Genean</h2>

        <div class="character-option">
            <img src="sage.png" class="char-img" />
            <button class="char-btn" data-char="sage">Sage of Hollowpeak (WIS)</button>
        </div>

        <div class="character-option">
            <img src="lark.png" class="char-img" />
            <button class="char-btn" data-char="lark">Fortune-Blessed Lark (LUCK)</button>
        </div>

        <div class="character-option">
            <img src="maker.png" class="char-img" />
            <button class="char-btn" data-char="maker">The Maker of Echoes (CREATIVITY)</button>
        </div>
    </div>

    <!-- GAME -->
    <div class="container" style="display:none;">

        <h2 class="gaia-title">Gaia Project Presents</h2>
        <h1 class="game-title">ðŸ“‰ Greater Fool Trading Game</h1>

        <!-- CHART -->
        <div class="chart-container">
            <canvas id="priceChart" width="400" height="120"></canvas>
            <div id="chart-y-axis"></div>
            <div id="chart-x-axis"></div>
        </div>

        <!-- COMPACT GRID -->
        <div id="game-info" class="info-grid">

            <div class="info-item">
                <label>Price</label>
                <span class="big-price" id="price">$1.00</span>
            </div>

            <div class="info-item">
                <label>Buy</label>
                <span id="buyAmount">0</span> shares
            </div>

            <div class="info-item">
                <label>Sell</label>
                <span id="sellAmount">0</span> shares
            </div>

            <div class="info-item">
                <label>Cash</label>
                <span id="cash">$100.00</span>
            </div>

            <div class="info-item">
                <label>Shares</label>
                <span id="shares">0</span>
            </div>

            <div class="info-item">
                <label>Wealth</label>
                <span id="wealth">$100.00</span>
            </div>

            <div class="info-item">
                <label>Time</label>
                <span id="timer">180</span>s
            </div>

            <div class="info-item">
                <label>Character</label>
                <span id="charName"></span>
            </div>

            <div class="info-item">
                <label>Stats</label>
                <span>
                    WIS <span id="statWIS"></span> â€¢
                    LUCK <span id="statLUCK"></span> â€¢
                    CRT <span id="statCRT"></span>
                </span>
            </div>

        </div>

        <!-- BUTTONS -->
        <div id="buttons">
            <button id="buy-btn">Buy</button>
            <button id="sell-btn">Sell</button>
        </div>

        <div id="leverage-panel" style="display:none; margin-top:12px;">
            <button id="long-btn">Long (x<span id="levVal1"></span>)</button>
            <button id="short-btn">Short (x<span id="levVal2"></span>)</button>
            <button id="close-pos-btn" disabled style="opacity:0.3;">Close</button>
        </div>

        <!-- LOG -->
        <div id="log"></div>

        <!-- SHARE BUTTON -->
        <button id="share-btn" class="share-button">Post Score to X</button>

    </div>

    <!-- SHARE POPUP -->
    <div id="share-popup" class="popup" style="display:none;">
        <div class="popup-content">
            <h3>ðŸŽ‰ Share your score?</h3>
            <p>Your final wealth was <span id="popup-wealth">$0.00</span></p>
            <button id="popup-share" class="popup-btn">Post to X</button>
            <button id="popup-close" class="popup-btn cancel">Close</button>
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html>
